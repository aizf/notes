---
title: 笔试真题
categories:
    - [算法]
tags:
    - 算法
    - 面试
date: 2020/6/20
---

## 括号匹配方案

2018京东秋招

```js
/**
 * 京东2018秋招Android
 * 括号匹配方案
 * 合法的括号匹配序列被定义为:
 * 1. 空串""是合法的括号序列
 * 2. 如果"X"和"Y"是合法的序列,那么"XY"也是一个合法的括号序列
 * 3. 如果"X"是一个合法的序列,那么"(X)"也是一个合法的括号序列
 * 4. 每个合法的括号序列都可以由上面的规则生成
 * 例如"", "()", "()()()", "(()())", "(((())))"都是合法的。 东东现在有一个合法的括号序列s,
 * 一次移除操作分为两步:
 * 1. 移除序列s中第一个左括号
 * 2. 移除序列s中任意一个右括号.保证操作之后s还是一个合法的括号序列
 * 东东现在想知道使用上述的移除操作有多少种方案可以把序列s变为空
 * 如果两个方案中有一次移除操作移除的是不同的右括号就认为是不同的方案。
 * 例如: s = "()()()()()",输出1, 因为每次都只能选择被移除的左括号所相邻的右括号.
 * s = "(((())))",输出24, 第一次有4种情况, 第二次有3种情况, ... ,依次类推, 4 * 3 * 2 * 1 = 24
 * 输入描述:
 * 输入包括一行,一个合法的括号序列s,序列长度length(2 ≤ length ≤ 20).
 * 输出描述:
 * 输出一个整数,表示方案数
 * 输入例子1:
 * (((())))
 * 输出例子1:
 * 24
 * 
 * 思路：
 * 碰到'('则入栈，碰到')'统计栈中'('个数size，res*=size，然后出栈一个'('
 * 因为要选不同的')'删去，而')'都在序列中，删除操作不好执行（或是说复杂度较高）
 * 且可删除的')'若有多个，那么删除不同的')'可能使得剩下的序列不同，这会使问题复杂
 * 因此逆向思考，既然'('可以匹配多个')'，同理，')'也可以匹配多个'('
 * 这样处理也有一个极大的好处，当')'定了，去掉前面哪个'('后剩下的序列都相同，这样可以使用乘法定理
 */


import sys
s = sys.stdin.readline()
res = 1
for i in s:
    if i == '(':
        stack.append(i)
    else:
        res *= len(stack)
        stack.pop() print(res)
print(res)
```
