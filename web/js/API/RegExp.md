#

<https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions>

<https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp>

## 创建一个正则表达式

### 正则表达式字面量

```js
var re = /ab+c/;
```

脚本加载后，正则表达式字面量就会被编译。当正则表达式保持不变时，使用此方法可获得更好的性能。

### 调用RegExp对象的构造函数

```js
var re = new RegExp("ab+c");
```

在脚本运行过程中，用构造函数创建的正则表达式会被编译。

## API

### String

match、matchAll、replace、search 和 split 方法

### RegExp

exec 和 test 方法

#### re(正则实例)

`lastIndex`
>下一次匹配开始的位置

`source`
>正则匹配的字符串

#### exec()

`result = re.exec(str)`

result：
>如果匹配成功，exec() 方法返回一个数组，并更新正则表达式对象的 lastIndex 属性。
>
>result[0] : 匹配的全部字符串
>
>[1], ...[n] : 括号中的分组捕获
>
>index : 匹配到的字符位于原始字符串的基于0的索引值
>
>input : 原始字符串
>
>如果匹配失败，exec() 方法返回 null，并将 lastIndex 重置为 0 。

注意：

当正则表达式使用 "g" 标志时，可以多次执行 exec 方法来查找同一个字符串中的成功匹配。当你这样做时，查找将从正则表达式的 lastIndex 属性指定的位置开始。（test() 也会更新 lastIndex 属性）。注意，即使再次查找的字符串不是原查找字符串时，lastIndex 也不会被重置，它依旧会从记录的 lastIndex 开始。

### 特殊字符

| 字符                   | 含义                                                                            |
| ---------------------- | ------------------------------------------------------------------------------- |
| ^                      | 匹配输入的开始。                                                                |
| $                      | 匹配输入的结束。                                                                |
| *                      | 匹配前一个表达式 0 次或多次。等价于 {0,}。                                      |
| +                      | 匹配前面一个表达式 1 次或者多次。等价于 {1,}。                                  |
| ?                      | 匹配前面一个表达式 0 次或者 1 次。等价于 {0,1}。                                |
| .                      | 默认匹配除换行符之外的任何单个字符。                                            |
| (x)                    | 会匹配 'x' 并且记住匹配项。其中括号被称为捕获括号。                             |
| (?:x)                  | 匹配 'x' 但是不记住匹配项。这种括号叫作非捕获括号                               |
| x(?=y)                 | 匹配'x'仅仅当'x'后面跟着'y',这种叫做先行断言。                                  |
| x(?!y)                 | 当'x'后面不跟着'y'时匹配'x'，这被称为正向否定查找。                             |
| `x|y`                  | 匹配‘x’或者‘y’。                                                                |
| `{n}`, `{n,}`, `{n,m}` |
| `[xyz]`                | 匹配方括号中的任意字符，包括转义序列。你可以使用破折号（-）来指定一个字符范围。 |
| `[^xyz]`               | 匹配任何没有包含在方括号中的字符。                                              |
| \d                     | 匹配一个数字。等价于`[0-9]`。                                                   |
| \D                     | 匹配一个非数字字符。等价于`[^0-9]`。                                            |
| \s                     | 匹配一个空白字符，包括空格、制表符、换页符和换行符。                            |
| \S                     | 匹配一个非空白字符                                                              |
| \w                     | 匹配一个单字字符（字母、数字或者下划线）。等价于`[A-Za-z0-9_]`。                |
| \W                     | 匹配一个非单字字符。                                                            |

### 正则表达式标志

| 标志 | 描述                                                    |
| ---- | ------------------------------------------------------- |
| g    | 全局搜索。                                              |
| i    | 不区分大小写搜索。                                      |
| m    | 多行搜索。                                              |
| s    | 允许 . 匹配换行符。                                     |
| u    | 使用unicode码的模式进行匹配。                           |
| y    | 执行“粘性(sticky)”搜索,匹配从目标字符串的当前位置开始。 |